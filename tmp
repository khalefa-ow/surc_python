from pglast.visitors import Visitor

nodes=[]

class CollectorVisitor(Visitor):
    def visit(self, ancestors, node):
        print(ancestors, ':', node(depth=0, skip_none=True))
        nodes.append(node)

visitor = CollectorVisitor()
visitor(root[0])


for node in nodes:
   
    print(node)
    print("\n\n")


for pre, fill, node in RenderTree(n):
    print("%s%s" % (pre, node.id``))   